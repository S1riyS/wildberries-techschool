# –ó–∞–¥–∞—á–∞ L2.2
## üìù –ó–∞–¥–∞–Ω–∏–µ
–ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞?

–û–±—ä—è—Å–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è defer —Ñ—É–Ω–∫—Ü–∏–π –∏ –∏—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥

```go
package main

import "fmt"

func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}

func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}

func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
### –í—ã–≤–æ–¥
```
2
1
```

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
`defer` —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ LIFO (Last In First Out)

–§—É–Ω–∫—Ü–∏—è `test` –≤—ã–≤–æ–¥–∏—Ç 2, —Ç–∞–∫ –∫–∞–∫ –≤ –Ω–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `x` –∏ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `defer` —Ñ—É–Ω–∫—Ü–∏–∏.

–§—É–Ω–∫—Ü–∏—è `anotherTest` –≤—ã–≤–æ–¥–∏—Ç 1, —Ç–∞–∫ –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏ `defer` —Ñ—É–Ω–∫—Ü–∏–∏ `x` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, –Ω–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`return x` —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é `x` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º–µ–Ω–Ω–æ –µ–µ).

---
–ö–æ–¥ –∑–∞–¥–∞–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ [`main.go`](./main.go).
