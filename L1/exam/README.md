# –≠–∫–∑–∞–º–µ–Ω L1
> [!CAUTION]
> –¢—É—Ç –æ–ø–∏—Å–∞–Ω–æ —Ç–æ, —á—Ç–æ –±—ã–ª–æ –Ω–∞ **–º–æ–µ–º —ç–∫–∑–∞–º–µ–Ω–µ!**
> –ù–µ —Å—Ç–æ–∏—Ç –¥—É–º–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ.
> <br>
> –£—á–∏—Ç–µ **–í–°–ï!**

## üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç
* ‚≠ê **–û—Ü–µ–Ω–∫–∞**: `5/5`
* üí¨ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**:
    > –æ–≥–æ–Ω—å!
    > <br>...<br>
    > –∫—Ä–∞—Å–∞–≤—á–∏–∫!–ª—É—á—à–∏–π!
    >
    > -- <cite>–ö–∞—Ä–∞–ø—É–∑–æ–≤ –ê–Ω–¥—Ä–µ–π</cite>

## üß† –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏–µ
> –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~1 —á–∞—Å

### –¢–µ–º—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
- –ú–∞—Å—Å–∏–≤—ã –∏ —Å—Ä–µ–∑—ã
- –°—Ç—Ä–æ–∫–∏
- Map (—Å—Ç–∞—Ä–∞—è –∏ –Ω–æ–≤–∞—è)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- Garbage collector
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (—Ä–µ–≥–∏—Å—Ç—Ä—ã, –∫—ç—à–∏, RAM)
- –°—Ç–µ–∫ –∏ –∫—É—á–∞
- –ö—ç—à –ª–∏–Ω–∏–∏, False Sharing


## üí™ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏–µ
> –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~30-45 –º–∏–Ω—É—Ç

### –ó–∞–¥–∞–Ω–∏–µ ‚Ññ1
–ó–∞–º–µ–Ω–∏—Ç—å `?` –Ω–∞ —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```go
func main() {
	a := []int{1, 2, 3, 4, 5, 6, 7, 8, 9, 10}
	s := a[2:5] // s=? len=? cap=?

	s2 := s[5:7] // s2=? len=? cap=?

	s2 = append(s2, 11) // s2=? len=? cap=?
	s2 = append(s2, 12) // s2=? len=? cap=?

	fmt.Println(a) // a=? len=? cap=1?
}
```
‚úÖ –†–µ—à–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–∏ÃÜ–ª–µ [`task1.go`](./task1.go)

### –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2
–ï—Å—Ç—å —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–æ–≤–∞—Ä–æ–≤, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ ID —Ç–æ–≤–∞—Ä–∞
–í –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –∑–∞–ø—É—Å–∫–∞ —à–∞—Ä–¥—ã —É–∫–∞–∑–∞–Ω —Ñ–∏–ª—å—Ç—Ä –∏ –ª–∏–º–∏—Ç
–§–∏–ª—å—Ç—Ä - –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å `[start,end]` (–≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ) ID —Ç–æ–≤–∞—Ä–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —à–∞—Ä–¥–µ, –æ–Ω–∏ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è
–õ–∏–º–∏—Ç - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤, —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –≤ —à–∞—Ä–¥–µ

–ö –ø—Ä–∏–º–µ—Ä—É –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è 100_000 —Ç–æ–≤–∞—Ä–æ–≤, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏–º–µ–µ—Ç 6 —à–∞—Ä–¥:
```
1 : [1,20_000], 20_000
2: [20_001,40_000], 20_000
3: [40_001,60_000], 20_000
4: [60_001,80_000], 20_000
5: [80_001,90_000], 10_000
6: [90_001,100_000], 10_000
```

–í —Å–≤–æ–µ–º —Å–µ—Ä–≤–∏—Å–µ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å ID —Ç–æ–≤–∞—Ä–æ–≤, –Ω–∞–º –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å –∫–∞–∫–æ–π —à–∞—Ä–¥–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–≤–∞—Ä
–í —Å–µ—Ä–≤–∏—Å–µ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ª–∏–º–∏—Ç—ã —à–∞—Ä–¥, –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —Å–ª–∞–π—Å–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä

**–ó–∞–¥–∞—á–∞:** –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ ID —Ç–æ–≤–∞—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤ –∫–∞–∫–æ–π —à–∞—Ä–¥–µ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è.
PS –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ —à–∞—Ä–¥ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–ö–æ–¥:**
```go
import "fmt"

type Shard struct {
    name string
    start int
    end int
    limit int
}

func selectShard(productId int, shards []Shard) Shard {
    // –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
}

func shardsInfo() []Shard {
    return []Shard{
        {"1", 1, 20_000, 20_000},
        {"2", 20_001, 40_000, 20_000},
        {"3", 40_001, 60_000, 20_000},
        {"4", 60_001, 80_000, 20_000},
        {"5", 80_001, 90_000, 10_000},
        {"6", 90_001, 100_000, 10_000},
    }
}

func main() {
    shards := shardsInfo()
    productId := 55_555
    shard := selectShard(productId, shards)
    fmt.Println(Shard.name) //3
}
```
‚úÖ –†–µ—à–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–∏ÃÜ–ª–µ [`task2.go`](./task2.go)

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Ññ1
> –ö–∞–∫–æ–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å?

**–û—Ç–≤–µ—Ç:** `O(log(n))`

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Ññ2
> –ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –∑–∞ `0(1)`, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å `shardsInfo`?

**–û—Ç–≤–µ—Ç:** 
–î–∞, –µ—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ —à–∞—Ä–¥–æ–≤ —Ä–∞–≤–Ω–æ–π –¥–ª–∏–Ω–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä 20_000). –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–∂–¥—É ID —Ç–æ–≤–∞—Ä–∞ –∏ —à–∞—Ä–¥–∞ (`ID % 20_000 -> Shard`)

