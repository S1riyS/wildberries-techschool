# –ó–∞–¥–∞—á–∞ L2.4
## üìù –ó–∞–¥–∞–Ω–∏–µ
–ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞?

–û–±—ä—è—Å–Ω–∏—Ç—å –≤—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

```go
package main

func main() {
	ch := make(chan int)
	go func() {
		for i := 0; i < 10; i++ {
			ch <- i
		}
	}()
	for n := range ch {
		println(n)
	}
}

```
## ‚úÖ –†–µ—à–µ–Ω–∏–µ
### –í—ã–≤–æ–¥
```
0
1
2
3
4
5
6
7
8
9
fatal error: all goroutines are asleep - deadlock!
```

### –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
1. –ì–æ—Ä—É—Ç–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–∏—à–µ—Ç –≤ –∫–∞–Ω–∞–ª, –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∑–∞–ø–∏—à–µ—Ç –≤ –∫–∞–Ω–∞–ª —á–∏—Å–ª–∞ 0 - 9. **–ù–û** –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª.
2. –ì–ª–∞–≤–Ω–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è —á–∏—Ç–∞–µ—Ç —ç—Ç–∏ —á–∏—Å–ª–∞ –∏–∑ –∫–∞–Ω–∞–ª–∞ –∏ –ø–∏—à–µ—Ç –∏—Ö –≤ `stdout`.
3. –ü–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è 10 —á–∏—Å–µ–ª –∏–∑ –∫–∞–Ω–∞–ª–∞, –≥–ª–∞–≤–Ω–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –æ–∂–∏–¥–∞—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–ª–∏ –∂–µ –∑–∞–∫—Ä—ã—Ç–∏—è –∫–∞–Ω–∞–ª–∞, –æ–¥–Ω–∞–∫–æ —ç—Ç–æ–≥–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç.
4. –î–µ—Ç–µ–∫—Ç–æ—Ä deadlock –≤ Go –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —ç—Ç—É —Å–∏—Ç—É–∞—Ü–∏—é –∏ –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª:
```go
go func() {
    for i := 0; i < 10; i++ {
        ch <- i
    }
    close(ch) // ! –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–∞–Ω–∞–ª –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏
}()
```

---
–ö–æ–¥ –∑–∞–¥–∞–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ [`main.go`](./main.go).
