#!/bin/bash

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω—ã –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
if [ "$#" -ne 2 ]; then
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <L{0..6}> <N>"
    exit 1
fi

level=$1
number=$2

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
if [[ ! "$level" =~ ^L[0-6]$ ]]; then
    echo "–ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ L{0..6}"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç - —á–∏—Å–ª–æ
if [[ ! "$number" =~ ^[0-9]+$ ]]; then
    echo "–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º"
    exit 1
fi

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
dir_path="./${level}/${number}"
mkdir -p "$dir_path"

# –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª main.go
cat > "${dir_path}/main.go" <<EOF
package main

func main() {

}
EOF

# –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª README.md
cat > "${dir_path}/README.md" <<EOF
# –ó–∞–¥–∞—á–∞ ${level}.${number}
## üìù –ó–∞–¥–∞–Ω–∏–µ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –≤ —Ñ–∞–π–ª–µ –≤ —Ñ–∞–π–ª–µ [\`main.go\`](./main.go).
EOF

echo "–°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ ${dir_path}"